{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../servicios/asignatura.servicio\";\nimport * as i2 from \"../../../servicios/inscripcion.servicio\";\nimport * as i3 from \"@angular/common\";\nfunction CreditosEstudianteComponente_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"span\", 6);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CreditosEstudianteComponente_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction CreditosEstudianteComponente_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h5\", 10);\n    i0.ɵɵtext(3, \"Resumen de Cr\\u00E9ditos\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 11)(5, \"div\", 12)(6, \"div\", 13)(7, \"p\", 14)(8, \"strong\");\n    i0.ɵɵtext(9, \"Total de Asignaturas:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 10)(12, \"strong\");\n    i0.ɵɵtext(13, \"Total de Cr\\u00E9ditos:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 13)(16, \"div\", 15)(17, \"div\", 16);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"small\", 17);\n    i0.ɵɵtext(20, \"M\\u00E1ximo recomendado: 9 cr\\u00E9ditos\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.asignaturas.length, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.totalCreditos, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.totalCreditos / 9 * 100, \"%\");\n    i0.ɵɵattribute(\"aria-valuenow\", ctx_r2.totalCreditos);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.totalCreditos, \" / 9 cr\\u00E9ditos \");\n  }\n}\nexport class CreditosEstudianteComponente {\n  constructor(asignaturaServicio, inscripcionServicio) {\n    this.asignaturaServicio = asignaturaServicio;\n    this.inscripcionServicio = inscripcionServicio;\n    this.asignaturas = [];\n    this.totalCreditos = 0;\n    this.cargando = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.cargarAsignaturas();\n  }\n  // Mu00e9todo pu00fablico para recargar los datos desde el componente padre\n  actualizarCreditos() {\n    console.log('Actualizando cru00e9ditos del estudiante...');\n    this.cargarAsignaturas();\n  }\n  cargarAsignaturas() {\n    if (!this.estudianteId) {\n      this.error = 'ID de estudiante no vu00e1lido';\n      return;\n    }\n    this.cargando = true;\n    this.asignaturaServicio.obtenerAsignaturasEstudiante(this.estudianteId).subscribe({\n      next: data => {\n        this.asignaturas = data;\n        this.calcularTotalCreditos();\n        this.cargando = false;\n        console.log('Cru00e9ditos actualizados:', this.totalCreditos);\n      },\n      error: err => {\n        this.error = 'Error al cargar asignaturas del estudiante';\n        this.cargando = false;\n        console.error(err);\n      }\n    });\n  }\n  calcularTotalCreditos() {\n    this.totalCreditos = this.asignaturas.reduce((total, asignatura) => total + asignatura.creditos, 0);\n  }\n  obtenerPorcentajeProgreso() {\n    const maxCreditos = 9;\n    return Math.min(this.totalCreditos / maxCreditos * 100, 100);\n  }\n  static {\n    this.ɵfac = function CreditosEstudianteComponente_Factory(t) {\n      return new (t || CreditosEstudianteComponente)(i0.ɵɵdirectiveInject(i1.AsignaturaServicio), i0.ɵɵdirectiveInject(i2.InscripcionServicio));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CreditosEstudianteComponente,\n      selectors: [[\"app-creditos-estudiante\"]],\n      inputs: {\n        estudianteId: \"estudianteId\"\n      },\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"creditos-container\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngIf\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\", \"spinner-border-sm\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"card\"], [1, \"card-header\", \"bg-info\", \"text-white\"], [1, \"mb-0\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"mb-1\"], [1, \"progress\", 2, \"height\", \"25px\"], [\"role\", \"progressbar\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"9\", 1, \"progress-bar\", \"bg-success\"], [1, \"text-muted\"]],\n      template: function CreditosEstudianteComponente_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, CreditosEstudianteComponente_div_1_Template, 4, 0, \"div\", 1);\n          i0.ɵɵtemplate(2, CreditosEstudianteComponente_div_2_Template, 2, 1, \"div\", 2);\n          i0.ɵɵtemplate(3, CreditosEstudianteComponente_div_3_Template, 21, 6, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.cargando);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.cargando && !ctx.error);\n        }\n      },\n      dependencies: [i3.NgIf],\n      styles: [\".creditos-container[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\n.progress[_ngcontent-%COMP%] {\\n  margin-top: 5px;\\n  margin-bottom: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50ZXMvZXN0dWRpYW50ZXMvY3JlZGl0b3MtZXN0dWRpYW50ZS9jcmVkaXRvcy1lc3R1ZGlhbnRlLmNvbXBvbmVudGUuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIi5jcmVkaXRvcy1jb250YWluZXIge1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4ucHJvZ3Jlc3Mge1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IACEA,8BAA0C;IAERA,2BAAW;IAAAA,iBAAO;;;;;IAIpDA,8BAA8C;IAC5CA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,6CACF;;;;;IAEAA,8BAA8C;IAEzBA,wCAAmB;IAAAA,iBAAK;IAE3CA,+BAAuB;IAGOA,qCAAqB;IAAAA,iBAAS;IAACA,aAAwB;IAAAA,iBAAI;IACnFA,8BAAgB;IAAQA,wCAAkB;IAAAA,iBAAS;IAACA,aAAmB;IAAAA,iBAAI;IAE7EA,gCAAsB;IAOhBA,aACF;IAAAA,iBAAM;IAERA,kCAA0B;IAAAA,yDAA8B;IAAAA,iBAAQ;;;;IAbTA,gBAAwB;IAAxBA,yDAAwB;IAC3BA,eAAmB;IAAnBA,oDAAmB;IAKhEA,eAA2C;IAA3CA,4DAA2C;IAC3CA,qDAAoC;IAGvCA,eACF;IADEA,uEACF;;;AClBZ,OAAM,MAAOC,4BAA4B;EAQvCC,YACUC,kBAAsC,EACtCC,mBAAwC;IADxC,uBAAkB,GAAlBD,kBAAkB;IAClB,wBAAmB,GAAnBC,mBAAmB;IAP7B,gBAAW,GAAiB,EAAE;IAC9B,kBAAa,GAAG,CAAC;IACjB,aAAQ,GAAG,KAAK;IAChB,UAAK,GAAG,EAAE;EAKN;EAEJC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAEA;EACOC,kBAAkB;IACvBC,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAC;IAC1D,IAAI,CAACH,iBAAiB,EAAE;EAC1B;EAEAA,iBAAiB;IACf,IAAI,CAAC,IAAI,CAACI,YAAY,EAAE;MACtB,IAAI,CAACC,KAAK,GAAG,gCAAgC;MAC7C;;IAGF,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACT,kBAAkB,CAACU,4BAA4B,CAAC,IAAI,CAACH,YAAY,CAAC,CAACI,SAAS,CAAC;MAChFC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,WAAW,GAAGD,IAAI;QACvB,IAAI,CAACE,qBAAqB,EAAE;QAC5B,IAAI,CAACN,QAAQ,GAAG,KAAK;QACrBJ,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAACU,aAAa,CAAC;MAC/D,CAAC;MACDR,KAAK,EAAGS,GAAG,IAAI;QACb,IAAI,CAACT,KAAK,GAAG,4CAA4C;QACzD,IAAI,CAACC,QAAQ,GAAG,KAAK;QACrBJ,OAAO,CAACG,KAAK,CAACS,GAAG,CAAC;MACpB;KACD,CAAC;EACJ;EAEAF,qBAAqB;IACnB,IAAI,CAACC,aAAa,GAAG,IAAI,CAACF,WAAW,CAACI,MAAM,CAAC,CAACC,KAAK,EAAEC,UAAU,KAAKD,KAAK,GAAGC,UAAU,CAACC,QAAQ,EAAE,CAAC,CAAC;EACrG;EAEAC,yBAAyB;IACvB,MAAMC,WAAW,GAAG,CAAC;IACrB,OAAOC,IAAI,CAACC,GAAG,CAAE,IAAI,CAACT,aAAa,GAAGO,WAAW,GAAI,GAAG,EAAE,GAAG,CAAC;EAChE;;;uBApDWzB,4BAA4B;IAAA;EAAA;;;YAA5BA,4BAA4B;MAAA4B;MAAAC;QAAApB;MAAA;MAAAqB;MAAAC;MAAAC;MAAAC;QAAA;UDXzClC,8BAAgC;UAC9BA,6EAIM;UAENA,6EAEM;UAENA,8EAwBM;UACRA,iBAAM;;;UAnCEA,eAAc;UAAdA,mCAAc;UAMdA,eAAW;UAAXA,gCAAW;UAIXA,eAAyB;UAAzBA,kDAAyB","names":["i0","CreditosEstudianteComponente","constructor","asignaturaServicio","inscripcionServicio","ngOnInit","cargarAsignaturas","actualizarCreditos","console","log","estudianteId","error","cargando","obtenerAsignaturasEstudiante","subscribe","next","data","asignaturas","calcularTotalCreditos","totalCreditos","err","reduce","total","asignatura","creditos","obtenerPorcentajeProgreso","maxCreditos","Math","min","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\componentes\\estudiantes\\creditos-estudiante\\creditos-estudiante.componente.html","C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\componentes\\estudiantes\\creditos-estudiante\\creditos-estudiante.componente.ts"],"sourcesContent":["<div class=\"creditos-container\">\n  <div *ngIf=\"cargando\" class=\"text-center\">\n    <div class=\"spinner-border spinner-border-sm text-primary\" role=\"status\">\n      <span class=\"visually-hidden\">Cargando...</span>\n    </div>\n  </div>\n  \n  <div *ngIf=\"error\" class=\"alert alert-danger\">\n    {{ error }}\n  </div>\n  \n  <div *ngIf=\"!cargando && !error\" class=\"card\">\n    <div class=\"card-header bg-info text-white\">\n      <h5 class=\"mb-0\">Resumen de Créditos</h5>\n    </div>\n    <div class=\"card-body\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <p class=\"mb-1\"><strong>Total de Asignaturas:</strong> {{ asignaturas.length }}</p>\n          <p class=\"mb-0\"><strong>Total de Créditos:</strong> {{ totalCreditos }}</p>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"progress\" style=\"height: 25px;\">\n            <div class=\"progress-bar bg-success\" role=\"progressbar\" \n                 [style.width.%]=\"(totalCreditos / 9) * 100\" \n                 [attr.aria-valuenow]=\"totalCreditos\" \n                 aria-valuemin=\"0\" \n                 aria-valuemax=\"9\">\n              {{ totalCreditos }} / 9 créditos\n            </div>\n          </div>\n          <small class=\"text-muted\">Máximo recomendado: 9 créditos</small>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { AsignaturaServicio } from '../../../servicios/asignatura.servicio';\nimport { InscripcionServicio } from '../../../servicios/inscripcion.servicio';\nimport { Asignatura } from '../../../modelos/asignatura.modelo';\nimport { CommonModule } from '@angular/common';\n\n@Component({\n  selector: 'app-creditos-estudiante',\n  templateUrl: './creditos-estudiante.componente.html',\n  styleUrls: ['./creditos-estudiante.componente.css']\n})\nexport class CreditosEstudianteComponente implements OnInit {\n  @Input() estudianteId!: number;\n  \n  asignaturas: Asignatura[] = [];\n  totalCreditos = 0;\n  cargando = false;\n  error = '';\n\n  constructor(\n    private asignaturaServicio: AsignaturaServicio,\n    private inscripcionServicio: InscripcionServicio\n  ) { }\n\n  ngOnInit(): void {\n    this.cargarAsignaturas();\n  }\n\n  // Mu00e9todo pu00fablico para recargar los datos desde el componente padre\n  public actualizarCreditos(): void {\n    console.log('Actualizando cru00e9ditos del estudiante...');\n    this.cargarAsignaturas();\n  }\n\n  cargarAsignaturas(): void {\n    if (!this.estudianteId) {\n      this.error = 'ID de estudiante no vu00e1lido';\n      return;\n    }\n    \n    this.cargando = true;\n    this.asignaturaServicio.obtenerAsignaturasEstudiante(this.estudianteId).subscribe({\n      next: (data) => {\n        this.asignaturas = data;\n        this.calcularTotalCreditos();\n        this.cargando = false;\n        console.log('Cru00e9ditos actualizados:', this.totalCreditos);\n      },\n      error: (err) => {\n        this.error = 'Error al cargar asignaturas del estudiante';\n        this.cargando = false;\n        console.error(err);\n      }\n    });\n  }\n\n  calcularTotalCreditos(): void {\n    this.totalCreditos = this.asignaturas.reduce((total, asignatura) => total + asignatura.creditos, 0);\n  }\n\n  obtenerPorcentajeProgreso(): number {\n    const maxCreditos = 9;\n    return Math.min((this.totalCreditos / maxCreditos) * 100, 100);\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}