{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../servicios/autenticacion.servicio\";\nfunction PerfilComponente_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"span\", 12);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction PerfilComponente_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction PerfilComponente_div_10_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18);\n    i0.ɵɵtext(2, \"ID de Estudiante:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r3.perfil.studentId);\n  }\n}\nfunction PerfilComponente_div_10_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18);\n    i0.ɵɵtext(2, \"ID de Profesor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r4.perfil.professorId);\n  }\n}\nfunction PerfilComponente_div_10_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"app-creditos-estudiante\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"estudianteId\", ctx_r5.perfil.studentId || 0);\n  }\n}\nfunction PerfilComponente_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 14)(2, \"div\", 15);\n    i0.ɵɵelement(3, \"i\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 17)(5, \"div\", 18);\n    i0.ɵɵtext(6, \"Nombre:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 17)(10, \"div\", 18);\n    i0.ɵɵtext(11, \"Correo Electru00f3nico:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 19);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 17)(15, \"div\", 18);\n    i0.ɵɵtext(16, \"Rol:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 19)(18, \"span\", 20);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(20, PerfilComponente_div_10_div_20_Template, 5, 1, \"div\", 21);\n    i0.ɵɵtemplate(21, PerfilComponente_div_10_div_21_Template, 5, 1, \"div\", 21);\n    i0.ɵɵtemplate(22, PerfilComponente_div_10_div_22_Template, 2, 1, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.perfil.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.perfil.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"bg-success\", ctx_r2.perfil.role === \"admin\")(\"bg-primary\", ctx_r2.perfil.role === \"professor\")(\"bg-info\", ctx_r2.perfil.role === \"student\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.perfil.role === \"admin\" ? \"Administrador\" : ctx_r2.perfil.role === \"professor\" ? \"Profesor\" : \"Estudiante\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.perfil.role === \"student\" && ctx_r2.perfil.studentId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.perfil.role === \"professor\" && ctx_r2.perfil.professorId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.perfil.role === \"student\" && ctx_r2.perfil.studentId);\n  }\n}\nexport class PerfilComponente {\n  constructor(autenticacionServicio) {\n    this.autenticacionServicio = autenticacionServicio;\n    this.perfil = null;\n    this.cargando = true;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.cargarPerfil();\n  }\n  cargarPerfil() {\n    this.cargando = true;\n    const usuarioActual = this.autenticacionServicio.obtenerValorUsuarioActual();\n    if (!usuarioActual || !usuarioActual.id) {\n      this.error = 'No se pudo cargar la informaciu00f3n del perfil';\n      this.cargando = false;\n      return;\n    }\n    this.autenticacionServicio.obtenerPerfilUsuario(usuarioActual.id).subscribe({\n      next: data => {\n        this.perfil = data;\n        this.cargando = false;\n      },\n      error: err => {\n        this.error = 'Error al cargar el perfil: ' + err.message;\n        this.cargando = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function PerfilComponente_Factory(t) {\n      return new (t || PerfilComponente)(i0.ɵɵdirectiveInject(i1.AutenticacionServicio));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PerfilComponente,\n      selectors: [[\"app-perfil\"]],\n      decls: 11,\n      vars: 3,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-8\", \"offset-md-2\"], [1, \"card\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [1, \"mb-0\"], [1, \"card-body\"], [\"class\", \"text-center p-5\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"text-center\", \"p-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"text-center\", \"mb-4\"], [1, \"avatar-circle\"], [1, \"bi\", \"bi-person-circle\"], [1, \"row\", \"mb-3\"], [1, \"col-md-4\", \"fw-bold\"], [1, \"col-md-8\"], [1, \"badge\"], [\"class\", \"row mb-3\", 4, \"ngIf\"], [\"class\", \"mt-4\", 4, \"ngIf\"], [1, \"mt-4\"], [3, \"estudianteId\"]],\n      template: function PerfilComponente_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h4\", 5);\n          i0.ɵɵtext(6, \"Perfil de Usuario\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 6);\n          i0.ɵɵtemplate(8, PerfilComponente_div_8_Template, 4, 0, \"div\", 7);\n          i0.ɵɵtemplate(9, PerfilComponente_div_9_Template, 2, 1, \"div\", 8);\n          i0.ɵɵtemplate(10, PerfilComponente_div_10_Template, 23, 12, \"div\", 9);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.cargando);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.cargando && !ctx.error && ctx.perfil);\n        }\n      },\n      styles: [\".avatar-circle[_ngcontent-%COMP%] {\\n  width: 100px;\\n  height: 100px;\\n  background-color: #f8f9fa;\\n  border-radius: 50%;\\n  margin: 0 auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid #dee2e6;\\n}\\n\\n.avatar-circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 60px;\\n  color: #6c757d;\\n}\\n\\n.card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50ZXMvYXV0ZW50aWNhY2lvbi9wZXJmaWwuY29tcG9uZW50ZS5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLmF2YXRhci1jaXJjbGUge1xuICB3aWR0aDogMTAwcHg7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGVlMmU2O1xufVxuXG4uYXZhdGFyLWNpcmNsZSBpIHtcbiAgZm9udC1zaXplOiA2MHB4O1xuICBjb2xvcjogIzZjNzU3ZDtcbn1cblxuLmNhcmQtaGVhZGVyIGg0IHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;IASUA,+BAA8C;IAEZA,2BAAW;IAAAA,iBAAO;;;;;IAIpDA,+BAA8C;IAC5CA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,6CACF;;;;;IA+BEA,+BAA4E;IAC5CA,iCAAiB;IAAAA,iBAAM;IACrDA,+BAAsB;IAAAA,YAAsB;IAAAA,iBAAM;;;;IAA5BA,eAAsB;IAAtBA,6CAAsB;;;;;IAG9CA,+BAAgF;IAChDA,+BAAe;IAAAA,iBAAM;IACnDA,+BAAsB;IAAAA,YAAwB;IAAAA,iBAAM;;;;IAA9BA,eAAwB;IAAxBA,+CAAwB;;;;;IAGhDA,+BAAwE;IACtEA,8CAA0F;IAC5FA,iBAAM;;;;IADqBA,eAAsC;IAAtCA,2DAAsC;;;;;IAxCnEA,2BAA2C;IAGrCA,wBAAmC;IACrCA,iBAAM;IAGRA,+BAAsB;IACUA,uBAAO;IAAAA,iBAAM;IAC3CA,+BAAsB;IAAAA,YAAiB;IAAAA,iBAAM;IAG/CA,+BAAsB;IACUA,wCAAuB;IAAAA,iBAAM;IAC3DA,gCAAsB;IAAAA,aAAkB;IAAAA,iBAAM;IAGhDA,gCAAsB;IACUA,qBAAI;IAAAA,iBAAM;IACxCA,gCAAsB;IAIlBA,aAEF;IAAAA,iBAAO;IAIXA,2EAGM;IAENA,2EAGM;IAENA,2EAEM;IACRA,iBAAM;;;;IAjCoBA,eAAiB;IAAjBA,wCAAiB;IAKjBA,eAAkB;IAAlBA,yCAAkB;IAMlBA,eAA4C;IAA5CA,4DAA4C;IAG9DA,eAEF;IAFEA,kJAEF;IAImBA,eAAmD;IAAnDA,kFAAmD;IAKnDA,eAAuD;IAAvDA,sFAAuD;IAK3DA,eAAmD;IAAnDA,kFAAmD;;;ACjDlF,OAAM,MAAOC,gBAAgB;EAK3BC,YAAoBC,qBAA4C;IAA5C,0BAAqB,GAArBA,qBAAqB;IAJzC,WAAM,GAAuB,IAAI;IACjC,aAAQ,GAAG,IAAI;IACf,UAAK,GAAG,EAAE;EAE0D;EAEpEC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,MAAMC,aAAa,GAAG,IAAI,CAACJ,qBAAqB,CAACK,yBAAyB,EAAE;IAE5E,IAAI,CAACD,aAAa,IAAI,CAACA,aAAa,CAACE,EAAE,EAAE;MACvC,IAAI,CAACC,KAAK,GAAG,iDAAiD;MAC9D,IAAI,CAACJ,QAAQ,GAAG,KAAK;MACrB;;IAGF,IAAI,CAACH,qBAAqB,CAACQ,oBAAoB,CAACJ,aAAa,CAACE,EAAE,CAAC,CAACG,SAAS,CAAC;MAC1EC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,MAAM,GAAGD,IAAI;QAClB,IAAI,CAACR,QAAQ,GAAG,KAAK;MACvB,CAAC;MACDI,KAAK,EAAGM,GAAG,IAAI;QACb,IAAI,CAACN,KAAK,GAAG,6BAA6B,GAAGM,GAAG,CAACC,OAAO;QACxD,IAAI,CAACX,QAAQ,GAAG,KAAK;MACvB;KACD,CAAC;EACJ;;;uBA/BWL,gBAAgB;IAAA;EAAA;;;YAAhBA,gBAAgB;MAAAiB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDT7BtB,8BAA4B;UAKDA,iCAAiB;UAAAA,iBAAK;UAGzCA,8BAAuB;UACrBA,iEAIM;UAENA,iEAEM;UAENA,qEA0CM;UACRA,iBAAM;;;UArDEA,eAAc;UAAdA,mCAAc;UAMdA,eAAW;UAAXA,gCAAW;UAIXA,eAAmC;UAAnCA,gEAAmC","names":["i0","PerfilComponente","constructor","autenticacionServicio","ngOnInit","cargarPerfil","cargando","usuarioActual","obtenerValorUsuarioActual","id","error","obtenerPerfilUsuario","subscribe","next","data","perfil","err","message","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\componentes\\autenticacion\\perfil.componente.html","C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\componentes\\autenticacion\\perfil.componente.ts"],"sourcesContent":["<div class=\"container mt-4\">\n  <div class=\"row\">\n    <div class=\"col-md-8 offset-md-2\">\n      <div class=\"card\">\n        <div class=\"card-header bg-primary text-white\">\n          <h4 class=\"mb-0\">Perfil de Usuario</h4>\n        </div>\n        \n        <div class=\"card-body\">\n          <div *ngIf=\"cargando\" class=\"text-center p-5\">\n            <div class=\"spinner-border text-primary\" role=\"status\">\n              <span class=\"visually-hidden\">Cargando...</span>\n            </div>\n          </div>\n          \n          <div *ngIf=\"error\" class=\"alert alert-danger\">\n            {{ error }}\n          </div>\n          \n          <div *ngIf=\"!cargando && !error && perfil\">\n            <div class=\"text-center mb-4\">\n              <div class=\"avatar-circle\">\n                <i class=\"bi bi-person-circle\"></i>\n              </div>\n            </div>\n            \n            <div class=\"row mb-3\">\n              <div class=\"col-md-4 fw-bold\">Nombre:</div>\n              <div class=\"col-md-8\">{{ perfil.name }}</div>\n            </div>\n            \n            <div class=\"row mb-3\">\n              <div class=\"col-md-4 fw-bold\">Correo Electru00f3nico:</div>\n              <div class=\"col-md-8\">{{ perfil.email }}</div>\n            </div>\n            \n            <div class=\"row mb-3\">\n              <div class=\"col-md-4 fw-bold\">Rol:</div>\n              <div class=\"col-md-8\">\n                <span class=\"badge\" [class.bg-success]=\"perfil.role === 'admin'\" \n                                    [class.bg-primary]=\"perfil.role === 'professor'\" \n                                    [class.bg-info]=\"perfil.role === 'student'\">\n                  {{ perfil.role === 'admin' ? 'Administrador' : \n                     perfil.role === 'professor' ? 'Profesor' : 'Estudiante' }}\n                </span>\n              </div>\n            </div>\n            \n            <div class=\"row mb-3\" *ngIf=\"perfil.role === 'student' && perfil.studentId\">\n              <div class=\"col-md-4 fw-bold\">ID de Estudiante:</div>\n              <div class=\"col-md-8\">{{ perfil.studentId }}</div>\n            </div>\n            \n            <div class=\"row mb-3\" *ngIf=\"perfil.role === 'professor' && perfil.professorId\">\n              <div class=\"col-md-4 fw-bold\">ID de Profesor:</div>\n              <div class=\"col-md-8\">{{ perfil.professorId }}</div>\n            </div>\n            \n            <div class=\"mt-4\" *ngIf=\"perfil.role === 'student' && perfil.studentId\">\n              <app-creditos-estudiante [estudianteId]=\"perfil.studentId || 0\"></app-creditos-estudiante>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { AutenticacionServicio } from '../../servicios/autenticacion.servicio';\nimport { UserProfile } from '../../models/auth.model';\n\n@Component({\n  selector: 'app-perfil',\n  templateUrl: './perfil.componente.html',\n  styleUrls: ['./perfil.componente.css']\n})\nexport class PerfilComponente implements OnInit {\n  perfil: UserProfile | null = null;\n  cargando = true;\n  error = '';\n\n  constructor(private autenticacionServicio: AutenticacionServicio) { }\n\n  ngOnInit(): void {\n    this.cargarPerfil();\n  }\n\n  cargarPerfil(): void {\n    this.cargando = true;\n    const usuarioActual = this.autenticacionServicio.obtenerValorUsuarioActual();\n    \n    if (!usuarioActual || !usuarioActual.id) {\n      this.error = 'No se pudo cargar la informaciu00f3n del perfil';\n      this.cargando = false;\n      return;\n    }\n\n    this.autenticacionServicio.obtenerPerfilUsuario(usuarioActual.id).subscribe({\n      next: (data) => {\n        this.perfil = data;\n        this.cargando = false;\n      },\n      error: (err) => {\n        this.error = 'Error al cargar el perfil: ' + err.message;\n        this.cargando = false;\n      }\n    });\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}