{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/student.service\";\nimport * as i3 from \"@angular/router\";\nfunction StudentFormComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction StudentFormComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"span\", 11);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction StudentFormComponent_form_8_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"El nombre es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentFormComponent_form_8_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, StudentFormComponent_form_8_div_5_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r3.studentForm.get(\"name\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nfunction StudentFormComponent_form_8_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"El correo electr\\u00F3nico es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentFormComponent_form_8_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ingrese un correo electr\\u00F3nico v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentFormComponent_form_8_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, StudentFormComponent_form_8_div_10_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, StudentFormComponent_form_8_div_10_div_2_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r4.studentForm.get(\"email\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r4.studentForm.get(\"email\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"email\"]);\n  }\n}\nfunction StudentFormComponent_form_8_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"La matr\\u00EDcula es obligatoria\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StudentFormComponent_form_8_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, StudentFormComponent_form_8_div_15_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r5.studentForm.get(\"studentId\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction StudentFormComponent_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function StudentFormComponent_form_8_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 13)(2, \"label\", 14);\n    i0.ɵɵtext(3, \"Nombre Completo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 15);\n    i0.ɵɵtemplate(5, StudentFormComponent_form_8_div_5_Template, 2, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13)(7, \"label\", 17);\n    i0.ɵɵtext(8, \"Correo Electr\\u00F3nico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 18);\n    i0.ɵɵtemplate(10, StudentFormComponent_form_8_div_10_Template, 3, 2, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"label\", 19);\n    i0.ɵɵtext(13, \"Matr\\u00EDcula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 20);\n    i0.ɵɵtemplate(15, StudentFormComponent_form_8_div_15_Template, 2, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21)(17, \"button\", 22);\n    i0.ɵɵtext(18, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 23);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.studentForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ((tmp_1_0 = ctx_r2.studentForm.get(\"name\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r2.studentForm.get(\"name\")) == null ? null : tmp_1_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r2.studentForm.get(\"name\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r2.studentForm.get(\"name\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ((tmp_3_0 = ctx_r2.studentForm.get(\"email\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r2.studentForm.get(\"email\")) == null ? null : tmp_3_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r2.studentForm.get(\"email\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx_r2.studentForm.get(\"email\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, ((tmp_5_0 = ctx_r2.studentForm.get(\"studentId\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r2.studentForm.get(\"studentId\")) == null ? null : tmp_5_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r2.studentForm.get(\"studentId\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx_r2.studentForm.get(\"studentId\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.studentForm.invalid || ctx_r2.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.isEditMode ? \"Actualizar\" : \"Crear\", \" \");\n  }\n}\nexport class StudentFormComponent {\n  constructor(formBuilder, studentService, router, route) {\n    this.formBuilder = formBuilder;\n    this.studentService = studentService;\n    this.router = router;\n    this.route = route;\n    this.isEditMode = false;\n    this.studentId = null;\n    this.loading = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.initForm();\n    // Check if we're in edit mode\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.isEditMode = true;\n        this.studentId = +params['id'];\n        this.loadStudent(this.studentId);\n      }\n    });\n  }\n  initForm() {\n    this.studentForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      studentId: ['', [Validators.required]]\n    });\n  }\n  loadStudent(id) {\n    this.loading = true;\n    this.studentService.getStudent(id).subscribe({\n      next: student => {\n        this.studentForm.patchValue({\n          name: student.name,\n          email: student.email,\n          studentId: student.studentId\n        });\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Error al cargar datos del estudiante';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n  onSubmit() {\n    if (this.studentForm.invalid) {\n      return;\n    }\n    this.loading = true;\n    this.error = '';\n    const studentData = {\n      ...this.studentForm.value\n    };\n    if (this.isEditMode && this.studentId) {\n      studentData.id = this.studentId;\n      this.studentService.updateStudent(studentData).subscribe({\n        next: () => {\n          this.loading = false;\n          this.router.navigate(['/students']);\n        },\n        error: err => {\n          this.error = 'Error al actualizar estudiante';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    } else {\n      this.studentService.createStudent(studentData).subscribe({\n        next: () => {\n          this.loading = false;\n          this.router.navigate(['/students']);\n        },\n        error: err => {\n          this.error = 'Error al crear estudiante';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function StudentFormComponent_Factory(t) {\n      return new (t || StudentFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.StudentService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StudentFormComponent,\n      selectors: [[\"app-student-form\"]],\n      decls: 9,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"card\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [1, \"mb-0\"], [1, \"card-body\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-center\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"d-flex\", \"justify-content-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"name\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"studentId\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"studentId\", \"formControlName\", \"studentId\", 1, \"form-control\", 3, \"ngClass\"], [1, \"d-flex\", \"justify-content-between\"], [\"type\", \"button\", \"routerLink\", \"/students\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"invalid-feedback\"], [4, \"ngIf\"]],\n      template: function StudentFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\", 3);\n          i0.ɵɵtext(4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4);\n          i0.ɵɵtemplate(6, StudentFormComponent_div_6_Template, 2, 1, \"div\", 5);\n          i0.ɵɵtemplate(7, StudentFormComponent_div_7_Template, 4, 0, \"div\", 6);\n          i0.ɵɵtemplate(8, StudentFormComponent_form_8_Template, 21, 15, \"form\", 7);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Editar Estudiante\" : \"Nuevo Estudiante\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      styles: [\".card[_ngcontent-%COMP%] {\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n}\\n\\n.card-header[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.form-label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.invalid-feedback[_ngcontent-%COMP%] {\\n  font-size: 80%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zdHVkZW50LWZvcm0vc3R1ZGVudC1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0NBQWtDO0FBQ2xDO0VBQ0Usd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIFN0dWRlbnQgRm9ybSBDb21wb25lbnQgU3R5bGVzICovXG4uY2FyZCB7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5jYXJkLWhlYWRlciB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5mb3JtLWxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmludmFsaWQtZmVlZGJhY2sge1xuICBmb250LXNpemU6IDgwJTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","StudentFormComponent","constructor","formBuilder","studentService","router","route","ngOnInit","initForm","params","subscribe","isEditMode","studentId","loadStudent","studentForm","group","name","required","email","id","loading","getStudent","next","student","patchValue","error","err","console","onSubmit","invalid","studentData","value","updateStudent","navigate","createStudent","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\components\\student-form\\student-form.component.ts","C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\components\\student-form\\student-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Student } from '../../models/student.model';\nimport { StudentService } from '../../services/student.service';\n\n@Component({\n  selector: 'app-student-form',\n  templateUrl: './student-form.component.html',\n  styleUrls: ['./student-form.component.css']\n})\nexport class StudentFormComponent implements OnInit {\n  studentForm!: FormGroup;\n  isEditMode = false;\n  studentId: number | null = null;\n  loading = false;\n  error = '';\n  \n  constructor(\n    private formBuilder: FormBuilder,\n    private studentService: StudentService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    this.initForm();\n    \n    // Check if we're in edit mode\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.isEditMode = true;\n        this.studentId = +params['id'];\n        this.loadStudent(this.studentId);\n      }\n    });\n  }\n\n  initForm(): void {\n    this.studentForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      studentId: ['', [Validators.required]]\n    });\n  }\n\n  loadStudent(id: number): void {\n    this.loading = true;\n    this.studentService.getStudent(id).subscribe({\n      next: (student) => {\n        this.studentForm.patchValue({\n          name: student.name,\n          email: student.email,\n          studentId: student.studentId\n        });\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Error al cargar datos del estudiante';\n        this.loading = false;\n        console.error(err);\n      }\n    });\n  }\n\n  onSubmit(): void {\n    if (this.studentForm.invalid) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = '';\n\n    const studentData: Student = {\n      ...this.studentForm.value\n    };\n\n    if (this.isEditMode && this.studentId) {\n      studentData.id = this.studentId;\n      this.studentService.updateStudent(studentData).subscribe({\n        next: () => {\n          this.loading = false;\n          this.router.navigate(['/students']);\n        },\n        error: (err) => {\n          this.error = 'Error al actualizar estudiante';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    } else {\n      this.studentService.createStudent(studentData).subscribe({\n        next: () => {\n          this.loading = false;\n          this.router.navigate(['/students']);\n        },\n        error: (err) => {\n          this.error = 'Error al crear estudiante';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    }\n  }\n}","<div class=\"container mt-4\">\n  <div class=\"card\">\n    <div class=\"card-header bg-primary text-white\">\n      <h4 class=\"mb-0\">{{ isEditMode ? 'Editar Estudiante' : 'Nuevo Estudiante' }}</h4>\n    </div>\n    <div class=\"card-body\">\n      <div *ngIf=\"error\" class=\"alert alert-danger\">\n        {{ error }}\n      </div>\n      \n      <div *ngIf=\"loading\" class=\"d-flex justify-content-center\">\n        <div class=\"spinner-border\" role=\"status\">\n          <span class=\"visually-hidden\">Cargando...</span>\n        </div>\n      </div>\n      \n      <form [formGroup]=\"studentForm\" (ngSubmit)=\"onSubmit()\" *ngIf=\"!loading\">\n        <div class=\"mb-3\">\n          <label for=\"name\" class=\"form-label\">Nombre Completo</label>\n          <input \n            type=\"text\" \n            id=\"name\" \n            formControlName=\"name\" \n            class=\"form-control\" \n            [ngClass]=\"{'is-invalid': studentForm.get('name')?.invalid && studentForm.get('name')?.touched}\"\n          >\n          <div *ngIf=\"studentForm.get('name')?.invalid && studentForm.get('name')?.touched\" class=\"invalid-feedback\">\n            <div *ngIf=\"studentForm.get('name')?.errors?.['required']\">El nombre es obligatorio</div>\n          </div>\n        </div>\n        \n        <div class=\"mb-3\">\n          <label for=\"email\" class=\"form-label\">Correo Electrónico</label>\n          <input \n            type=\"email\" \n            id=\"email\" \n            formControlName=\"email\" \n            class=\"form-control\" \n            [ngClass]=\"{'is-invalid': studentForm.get('email')?.invalid && studentForm.get('email')?.touched}\"\n          >\n          <div *ngIf=\"studentForm.get('email')?.invalid && studentForm.get('email')?.touched\" class=\"invalid-feedback\">\n            <div *ngIf=\"studentForm.get('email')?.errors?.['required']\">El correo electrónico es obligatorio</div>\n            <div *ngIf=\"studentForm.get('email')?.errors?.['email']\">Ingrese un correo electrónico válido</div>\n          </div>\n        </div>\n        \n        <div class=\"mb-3\">\n          <label for=\"studentId\" class=\"form-label\">Matrícula</label>\n          <input \n            type=\"text\" \n            id=\"studentId\" \n            formControlName=\"studentId\" \n            class=\"form-control\" \n            [ngClass]=\"{'is-invalid': studentForm.get('studentId')?.invalid && studentForm.get('studentId')?.touched}\"\n          >\n          <div *ngIf=\"studentForm.get('studentId')?.invalid && studentForm.get('studentId')?.touched\" class=\"invalid-feedback\">\n            <div *ngIf=\"studentForm.get('studentId')?.errors?.['required']\">La matrícula es obligatoria</div>\n          </div>\n        </div>\n        \n        <div class=\"d-flex justify-content-between\">\n          <button type=\"button\" class=\"btn btn-secondary\" routerLink=\"/students\">Cancelar</button>\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\" \n            [disabled]=\"studentForm.invalid || loading\"\n          >\n            {{ isEditMode ? 'Actualizar' : 'Crear' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}