{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../servicios/estudiante.servicio\";\nimport * as i3 from \"@angular/router\";\nfunction FormularioEstudianteComponente_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction FormularioEstudianteComponente_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"span\", 11);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"El nombre es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, FormularioEstudianteComponente_form_8_div_5_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r3.formularioEstudiante.get(\"nombre\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"El correo electr\\u00F3nico es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ingrese un correo electr\\u00F3nico v\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, FormularioEstudianteComponente_form_8_div_10_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵtemplate(2, FormularioEstudianteComponente_form_8_div_10_div_2_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r4.formularioEstudiante.get(\"correo\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r4.formularioEstudiante.get(\"correo\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"email\"]);\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"La matr\\u00EDcula es obligatoria\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FormularioEstudianteComponente_form_8_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, FormularioEstudianteComponente_form_8_div_15_div_1_Template, 2, 0, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r5.formularioEstudiante.get(\"matricula\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction FormularioEstudianteComponente_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function FormularioEstudianteComponente_form_8_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 13)(2, \"label\", 14);\n    i0.ɵɵtext(3, \"Nombre Completo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 15);\n    i0.ɵɵtemplate(5, FormularioEstudianteComponente_form_8_div_5_Template, 2, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13)(7, \"label\", 17);\n    i0.ɵɵtext(8, \"Correo Electr\\u00F3nico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 18);\n    i0.ɵɵtemplate(10, FormularioEstudianteComponente_form_8_div_10_Template, 3, 2, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 13)(12, \"label\", 19);\n    i0.ɵɵtext(13, \"Matr\\u00EDcula\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 20);\n    i0.ɵɵtemplate(15, FormularioEstudianteComponente_form_8_div_15_Template, 2, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21)(17, \"button\", 22);\n    i0.ɵɵtext(18, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 23);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.formularioEstudiante);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ((tmp_1_0 = ctx_r2.formularioEstudiante.get(\"nombre\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx_r2.formularioEstudiante.get(\"nombre\")) == null ? null : tmp_1_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx_r2.formularioEstudiante.get(\"nombre\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx_r2.formularioEstudiante.get(\"nombre\")) == null ? null : tmp_2_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ((tmp_3_0 = ctx_r2.formularioEstudiante.get(\"correo\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx_r2.formularioEstudiante.get(\"correo\")) == null ? null : tmp_3_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx_r2.formularioEstudiante.get(\"correo\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx_r2.formularioEstudiante.get(\"correo\")) == null ? null : tmp_4_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, ((tmp_5_0 = ctx_r2.formularioEstudiante.get(\"matricula\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx_r2.formularioEstudiante.get(\"matricula\")) == null ? null : tmp_5_0.touched)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx_r2.formularioEstudiante.get(\"matricula\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx_r2.formularioEstudiante.get(\"matricula\")) == null ? null : tmp_6_0.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.formularioEstudiante.invalid || ctx_r2.cargando);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.esEdicion ? \"Actualizar\" : \"Crear\", \" \");\n  }\n}\nexport class FormularioEstudianteComponente {\n  constructor(formBuilder, estudianteServicio, router, ruta) {\n    this.formBuilder = formBuilder;\n    this.estudianteServicio = estudianteServicio;\n    this.router = router;\n    this.ruta = ruta;\n    this.esEdicion = false;\n    this.estudianteId = null;\n    this.cargando = false;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.inicializarFormulario();\n    this.ruta.params.subscribe(params => {\n      if (params['id']) {\n        this.esEdicion = true;\n        this.estudianteId = +params['id'];\n        this.cargarEstudiante(this.estudianteId);\n      }\n    });\n  }\n  inicializarFormulario() {\n    this.formularioEstudiante = this.formBuilder.group({\n      nombre: ['', [Validators.required]],\n      correo: ['', [Validators.required, Validators.email]],\n      matricula: ['', [Validators.required]]\n    });\n  }\n  cargarEstudiante(id) {\n    this.cargando = true;\n    this.estudianteServicio.obtenerEstudiante(id).subscribe({\n      next: estudiante => {\n        this.formularioEstudiante.patchValue({\n          nombre: estudiante.nombre,\n          correo: estudiante.correo,\n          matricula: estudiante.matricula\n        });\n        this.cargando = false;\n      },\n      error: err => {\n        this.error = 'Error al cargar datos del estudiante';\n        this.cargando = false;\n        console.error(err);\n      }\n    });\n  }\n  onSubmit() {\n    if (this.formularioEstudiante.invalid) {\n      return;\n    }\n    this.cargando = true;\n    this.error = '';\n    const datosEstudiante = {\n      ...this.formularioEstudiante.value\n    };\n    if (this.esEdicion && this.estudianteId) {\n      datosEstudiante.id = this.estudianteId;\n      this.estudianteServicio.actualizarEstudiante(datosEstudiante).subscribe({\n        next: () => {\n          this.cargando = false;\n          this.router.navigate(['/estudiantes']);\n        },\n        error: err => {\n          this.error = 'Error al actualizar estudiante';\n          this.cargando = false;\n          console.error(err);\n        }\n      });\n    } else {\n      this.estudianteServicio.crearEstudiante(datosEstudiante).subscribe({\n        next: () => {\n          this.cargando = false;\n          this.router.navigate(['/estudiantes']);\n        },\n        error: err => {\n          this.error = 'Error al crear estudiante';\n          this.cargando = false;\n          console.error(err);\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function FormularioEstudianteComponente_Factory(t) {\n      return new (t || FormularioEstudianteComponente)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EstudianteServicio), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: FormularioEstudianteComponente,\n      selectors: [[\"app-formulario-estudiante\"]],\n      decls: 9,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"card\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [1, \"mb-0\"], [1, \"card-body\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-center\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"d-flex\", \"justify-content-center\"], [\"role\", \"status\", 1, \"spinner-border\"], [1, \"visually-hidden\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"nombre\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"nombre\", \"formControlName\", \"nombre\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"correo\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"correo\", \"formControlName\", \"correo\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"matricula\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"matricula\", \"formControlName\", \"matricula\", 1, \"form-control\", 3, \"ngClass\"], [1, \"d-flex\", \"justify-content-between\"], [\"type\", \"button\", \"routerLink\", \"/estudiantes\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"invalid-feedback\"], [4, \"ngIf\"]],\n      template: function FormularioEstudianteComponente_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\", 3);\n          i0.ɵɵtext(4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4);\n          i0.ɵɵtemplate(6, FormularioEstudianteComponente_div_6_Template, 2, 1, \"div\", 5);\n          i0.ɵɵtemplate(7, FormularioEstudianteComponente_div_7_Template, 4, 0, \"div\", 6);\n          i0.ɵɵtemplate(8, FormularioEstudianteComponente_form_8_Template, 21, 15, \"form\", 7);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.esEdicion ? \"Editar Estudiante\" : \"Nuevo Estudiante\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.cargando);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.cargando);\n        }\n      },\n      styles: [\".card[_ngcontent-%COMP%] {\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n}\\n.card-header[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n.form-label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n.invalid-feedback[_ngcontent-%COMP%] {\\n  font-size: 80%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50ZXMvZXN0dWRpYW50ZXMvZm9ybXVsYXJpby1lc3R1ZGlhbnRlLmNvbXBvbmVudGUuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBDQUEwQztBQUMxQztFQUNFLHdDQUF3QztBQUMxQztBQUNBO0VBQ0UsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGNBQWM7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBFc3RpbG9zIHBhcmEgRm9ybXVsYXJpbyBkZSBFc3R1ZGlhbnRlICovXG4uY2FyZCB7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG4uY2FyZC1oZWFkZXIge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuLmZvcm0tbGFiZWwge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuLmludmFsaWQtZmVlZGJhY2sge1xuICBmb250LXNpemU6IDgwJTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","FormularioEstudianteComponente","constructor","formBuilder","estudianteServicio","router","ruta","ngOnInit","inicializarFormulario","params","subscribe","esEdicion","estudianteId","cargarEstudiante","formularioEstudiante","group","nombre","required","correo","email","matricula","id","cargando","obtenerEstudiante","next","estudiante","patchValue","error","err","console","onSubmit","invalid","datosEstudiante","value","actualizarEstudiante","navigate","crearEstudiante","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\componentes\\estudiantes\\formulario-estudiante.componente.ts","C:\\Users\\hansk\\Videos\\frontendsistemacolegio.interrapidisi\\frontendsistemacolegio.interrapidisi\\src\\app\\componentes\\estudiantes\\formulario-estudiante.componente.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Estudiante } from '../../modelos/estudiante.modelo';\nimport { EstudianteServicio } from '../../servicios/estudiante.servicio';\n\n@Component({\n  selector: 'app-formulario-estudiante',\n  templateUrl: './formulario-estudiante.componente.html',\n  styleUrls: ['./formulario-estudiante.componente.css']\n})\nexport class FormularioEstudianteComponente implements OnInit {\n  formularioEstudiante!: FormGroup;\n  esEdicion = false;\n  estudianteId: number | null = null;\n  cargando = false;\n  error = '';\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private estudianteServicio: EstudianteServicio,\n    private router: Router,\n    private ruta: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    this.inicializarFormulario();\n    this.ruta.params.subscribe(params => {\n      if (params['id']) {\n        this.esEdicion = true;\n        this.estudianteId = +params['id'];\n        this.cargarEstudiante(this.estudianteId);\n      }\n    });\n  }\n\n  inicializarFormulario(): void {\n    this.formularioEstudiante = this.formBuilder.group({\n      nombre: ['', [Validators.required]],\n      correo: ['', [Validators.required, Validators.email]],\n      matricula: ['', [Validators.required]]\n    });\n  }\n\n  cargarEstudiante(id: number): void {\n    this.cargando = true;\n    this.estudianteServicio.obtenerEstudiante(id).subscribe({\n      next: (estudiante) => {\n        this.formularioEstudiante.patchValue({\n          nombre: estudiante.nombre,\n          correo: estudiante.correo,\n          matricula: estudiante.matricula\n        });\n        this.cargando = false;\n      },\n      error: (err) => {\n        this.error = 'Error al cargar datos del estudiante';\n        this.cargando = false;\n        console.error(err);\n      }\n    });\n  }\n\n  onSubmit(): void {\n    if (this.formularioEstudiante.invalid) {\n      return;\n    }\n    this.cargando = true;\n    this.error = '';\n    const datosEstudiante: Estudiante = {\n      ...this.formularioEstudiante.value\n    };\n    if (this.esEdicion && this.estudianteId) {\n      datosEstudiante.id = this.estudianteId;\n      this.estudianteServicio.actualizarEstudiante(datosEstudiante).subscribe({\n        next: () => {\n          this.cargando = false;\n          this.router.navigate(['/estudiantes']);\n        },\n        error: (err) => {\n          this.error = 'Error al actualizar estudiante';\n          this.cargando = false;\n          console.error(err);\n        }\n      });\n    } else {\n      this.estudianteServicio.crearEstudiante(datosEstudiante).subscribe({\n        next: () => {\n          this.cargando = false;\n          this.router.navigate(['/estudiantes']);\n        },\n        error: (err) => {\n          this.error = 'Error al crear estudiante';\n          this.cargando = false;\n          console.error(err);\n        }\n      });\n    }\n  }\n}\n","<div class=\"container mt-4\">\n  <div class=\"card\">\n    <div class=\"card-header bg-primary text-white\">\n      <h4 class=\"mb-0\">{{ esEdicion ? 'Editar Estudiante' : 'Nuevo Estudiante' }}</h4>\n    </div>\n    <div class=\"card-body\">\n      <div *ngIf=\"error\" class=\"alert alert-danger\">\n        {{ error }}\n      </div>\n      <div *ngIf=\"cargando\" class=\"d-flex justify-content-center\">\n        <div class=\"spinner-border\" role=\"status\">\n          <span class=\"visually-hidden\">Cargando...</span>\n        </div>\n      </div>\n      <form [formGroup]=\"formularioEstudiante\" (ngSubmit)=\"onSubmit()\" *ngIf=\"!cargando\">\n        <div class=\"mb-3\">\n          <label for=\"nombre\" class=\"form-label\">Nombre Completo</label>\n          <input \n            type=\"text\" \n            id=\"nombre\" \n            formControlName=\"nombre\" \n            class=\"form-control\" \n            [ngClass]=\"{'is-invalid': formularioEstudiante.get('nombre')?.invalid && formularioEstudiante.get('nombre')?.touched}\"\n          >\n          <div *ngIf=\"formularioEstudiante.get('nombre')?.invalid && formularioEstudiante.get('nombre')?.touched\" class=\"invalid-feedback\">\n            <div *ngIf=\"formularioEstudiante.get('nombre')?.errors?.['required']\">El nombre es obligatorio</div>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"correo\" class=\"form-label\">Correo Electrónico</label>\n          <input \n            type=\"email\" \n            id=\"correo\" \n            formControlName=\"correo\" \n            class=\"form-control\" \n            [ngClass]=\"{'is-invalid': formularioEstudiante.get('correo')?.invalid && formularioEstudiante.get('correo')?.touched}\"\n          >\n          <div *ngIf=\"formularioEstudiante.get('correo')?.invalid && formularioEstudiante.get('correo')?.touched\" class=\"invalid-feedback\">\n            <div *ngIf=\"formularioEstudiante.get('correo')?.errors?.['required']\">El correo electrónico es obligatorio</div>\n            <div *ngIf=\"formularioEstudiante.get('correo')?.errors?.['email']\">Ingrese un correo electrónico válido</div>\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label for=\"matricula\" class=\"form-label\">Matrícula</label>\n          <input \n            type=\"text\" \n            id=\"matricula\" \n            formControlName=\"matricula\" \n            class=\"form-control\" \n            [ngClass]=\"{'is-invalid': formularioEstudiante.get('matricula')?.invalid && formularioEstudiante.get('matricula')?.touched}\"\n          >\n          <div *ngIf=\"formularioEstudiante.get('matricula')?.invalid && formularioEstudiante.get('matricula')?.touched\" class=\"invalid-feedback\">\n            <div *ngIf=\"formularioEstudiante.get('matricula')?.errors?.['required']\">La matrícula es obligatoria</div>\n          </div>\n        </div>\n        <div class=\"d-flex justify-content-between\">\n          <button type=\"button\" class=\"btn btn-secondary\" routerLink=\"/estudiantes\">Cancelar</button>\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\" \n            [disabled]=\"formularioEstudiante.invalid || cargando\"\n          >\n            {{ esEdicion ? 'Actualizar' : 'Crear' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}